{"version":3,"sources":["scripts/mobx/content.js","scripts/components/head/index.js","scripts/components/content/index.js","scripts/view/home/index.js"],"names":["Content","flag","this","history","length","observable","title","type","action","a","async","axios","get","res1","tuiJian","data","result","res3","tv","res2","hot1","res4","hot2","res5","live1","res6","live2","keyword","key","computed","post","query","params","res","all","search","console","log","then","indexOf","i","splice","unshift","showToast","Head","connect","state","getIn","pic","loopMine","props","push","loopLogin","getInitPic","dispatch","getHead","replace","baseURL","changeFlag","userInfo","localStorage","JSON","parse","mobile","sessionStorage","tele","url","text","className","mode","onLeftClick","icon","style","width","src","alt","rightContent","onClick","Component","banner","toJS","observer","content","getTuiJian","frameOverflow","cellSpacing","slideWidth","autoplay","infinite","map","val","index","verticalAlign","height","onLoad","window","dispatchEvent","Event","setState","imgHeight","size","item","to","pID","pics","lowResolutionH","updateEP","score","name","lowResolutionV","duration","display","justifyContent","inline","updateTimeDesc","Home","tabs","renderContent","tab","ref","alignItems","position","backgroundColor","top","left","renderTabBar","DefaultTabBar","page","refs","one","clientHeight"],"mappings":"+NAGMA,G,0sBAuCE,IAAIC,GAAK,EAIT,OAHGC,KAAKC,QAAQC,OAAO,IACnBH,GAAK,GAEFA,M,0CAzCVI,K,wEAAqB,M,gCACrBA,K,wEAAgB,M,kCAChBA,K,wEAAkB,M,kCAClBA,K,wEAAkB,M,mCAClBA,K,wEAAmB,M,mCACnBA,K,wEAAmB,M,qCACnBA,K,wEAAmB,M,kCACnBA,K,wEAAkB,CACf,CAAEC,MAAO,qBAAOC,KAAM,WACtB,CAAED,MAAO,eAAMC,KAAM,SACrB,CAAED,MAAO,eAAMC,KAAM,gBACrB,CAAED,MAAO,2BAAQC,KAAM,a,wCAI1BC,K,oFAAoB,oCAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACEE,IAAMC,IAAI,eADZ,cACXC,EADW,OAEjB,EAAKC,QAAUD,EAAKE,KAAKC,OAFR,WAAAP,EAAA,MAGEE,IAAMC,IAAI,eAHZ,cAGXK,EAHW,OAIjB,EAAKC,GAAKD,EAAKF,KAAKC,OAJH,YAAAP,EAAA,MAKEE,IAAMC,IAAI,gBALZ,eAKXO,EALW,OAMjB,EAAKC,KAAOD,EAAKJ,KAAKC,OANL,YAAAP,EAAA,MAOEE,IAAMC,IAAI,gBAPZ,eAOXS,EAPW,OAQjB,EAAKC,KAAOD,EAAKN,KAAKC,OARL,YAAAP,EAAA,MASEE,IAAMC,IAAI,iBATZ,eASXW,EATW,OAUjB,EAAKC,MAAQD,EAAKR,KAAKC,OAVN,YAAAP,EAAA,MAWEE,IAAMC,IAAI,iBAXZ,QAWXa,EAXW,OAYjB,EAAKC,MAAQD,EAAKV,KAAKC,OAZN,0C,iCAepBX,K,wEAAiB,M,oCAEjBG,K,oFAAc,SAACmB,GACZ,EAAKC,IAAID,M,gCAGZE,K,kGAQAxB,K,wEAAe,M,0CAGfG,K,oFAAqB,oBAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACFE,IAAMmB,KAAK,wBADT,cAElB,EAAK3B,QAAQ,GAFK,yC,yCAKrBE,K,yEAAuB,K,oCACvBG,K,oFAAe,SAAOuB,GAAP,eAAAtB,EAAAC,OAAA,kEAAAD,EAAA,MACIE,IAAMC,IAAI,aAAa,CAACoB,OAAO,CAACD,YADpC,OACNE,EADM,OAEZ,EAAKC,IAAID,EAAIlB,KAAKC,OAFN,yC,oCAKfX,K,wEAAkB,M,yCAClBG,K,oFAAmB,WAChB,EAAK2B,OAAO,O,uCAEf3B,K,oFAAiB,+BAAAC,EAAAC,OAAA,mDAAQkB,EAAR,EAAQA,IAAI3B,EAAZ,EAAYA,KAC1BmC,QAAQC,IAAIT,IACT3B,EAFW,gBAGVU,IAAMmB,KAAK,uBAAuB,CAAC7B,SAAOqC,MAAK,SAAAL,GAC3C,EAAK9B,QAAQ8B,EAAIlB,KAAKZ,WAJhB,2BAOPyB,EAPO,wBAQNjB,IAAMmB,KAAK,uBAAuB,CAACF,MAAI3B,SAAOqC,MAAK,SAAAL,GAE/C,IAAgC,IAA7B,EAAK9B,QAAQoC,QAAQX,GAAU,CAC9B,IAAIY,EAAE,EAAKrC,QAAQoC,QAAQX,GAC3B,EAAKzB,QAAQsC,OAAOD,EAAE,GAE1B,EAAKrC,QAAQuC,QAAQd,GACrB,EAAKA,IAAI,MAfP,YAAAnB,EAAA,MAiBUE,IAAMC,IAAI,aAAa,CAACoB,OAAO,CAACJ,UAjB1C,QAiBAK,EAjBA,OAkBN,EAAKE,OAAOF,EAAIlB,KAAKC,OACrBoB,QAAQC,IAAIJ,EAAIlB,KAAKC,QAnBf,wBAqBN2B,YAAU,wCArBJ,0C,GA2BP,QAAI3C,G,0IChFb4C,EANLC,aACG,SAAAC,GAAK,MAAK,CACN7C,KAAM6C,EAAMC,MAAM,CAAC,OAAQ,SAC3BC,IAAKF,EAAMC,MAAM,CAAC,OAAQ,W,8MAK9BE,SAAW,WACP,EAAKC,MAAM/C,QAAQgD,KAAK,e,EAE5BC,UAAY,WACR,EAAKF,MAAM/C,QAAQgD,KAAK,W,EAoC5BE,WAAa,WACL1C,IAAMmB,KAAK,qBACNQ,MAAK,SAAAL,GACGA,EAAIlB,KAAKR,KACV,EAAK2C,MAAMI,SAASC,YAAQtB,EAAIlB,KAAKC,OAAOgC,IAAIQ,QAAQ,SAASC,OAEjE,EAAKP,MAAMI,SAASC,YAAQ,EAAKL,MAAMF,U,oFApBvD9C,KAAKgD,MAAMI,SAASI,YAAWxD,KAAKgD,MAAM/C,UAC1C,IAAIwD,EAAWC,aAAaD,SACxBA,IACAA,EAAWE,KAAKC,MAAMH,IACTI,SAAWC,eAAeC,KAEnC/D,KAAKgD,MAAMI,SAASC,YAAQI,EAASO,MAKzChE,KAAKmD,e,+BAaH,IAAD,SAMDnD,KAAKgD,MAJLjD,EAFC,EAEDA,KACAK,EAHC,EAGDA,MACA6D,EAJC,EAIDA,KACAnB,EALC,EAKDA,IAGJ,OADAZ,QAAQC,IAAIpC,GAER,yBAAKmE,UAAU,QACX,kBAAC,IAAD,CACIC,KAAK,QACLC,YAAa,kBAAMlC,QAAQC,IAAI,gBAC/BkC,KAAM,yBAAKC,MAAO,CAAEC,MAAO,UAAYC,IAAK,iGAAkGC,IAAI,KAClJC,aAAc,CACV3E,GAAQ,yBAAKmE,UAAU,QAAQxC,IAAK,EAAGiD,QAAS3E,KAAK+C,SAAUuB,MAAO,CAAEC,MAAO,UAAYC,IAAK1B,EAAK2B,IAAI,MACxG1E,GAAQ,yBAAKmE,UAAU,QAAQxC,IAAK,EAAGiD,QAAS3E,KAAKkD,UAAWoB,MAAO,CAAEC,MAAO,UAAYC,IAAK,yzEAA0zEC,IAAI,QAGl6ErE,GAAS,uBAAG8D,UAAU,QAAQS,QAAS,kBAAM,EAAK3B,MAAM/C,QAAQgD,KAAK,aACnE,kBAAC,IAAD,CAAM5C,KAAK,WACX,2DAEHD,GAAS,8BAAO6D,S,GA3ElBW,e,EAkFJlC,O,+OC0GA5C,EAhMd6C,aACG,SAAAC,GAAK,MAAK,CACNiC,OAAQjC,EAAMC,MAAM,CAAC,OAAQ,WAAWiC,U,GAG/CC,Y,gMAIYC,IAAQpE,QAAQV,OAAS,GAC1B8E,IAAQC,e,+BAGN,IAAD,OAGDJ,EACA7E,KAAKgD,MADL6B,OAGJ,OACI,yBAAKX,UAAU,QACX,kBAAC,IAAD,CAAUA,UAAU,iBAChBgB,cAAc,UACdC,YAAa,GACbC,WAAY,GACZC,UAAQ,EACRC,UAAQ,GAIPT,EAAOU,KAAI,SAACC,EAAKC,GAAN,OACR,yBAAK/D,IAAK+D,GACN,yBACIjB,IAAKgB,EACLf,IAAI,GACJH,MAAO,CAAEC,MAAO,OAAQmB,cAAe,MAAOC,OAAQ,QACtDC,OAAQ,WAEJC,OAAOC,cAAc,IAAIC,MAAM,WAC/B,EAAKC,SAAS,CAAEC,UAAW,iBAM/C,kBAAC,IAAD,CAAYC,KAAK,OACjB,yBAAKhC,UAAU,OACX,yBAAKA,UAAU,SACX,0BAAMA,UAAU,QAAhB,4BACA,0BAAMA,UAAU,SAAhB,8CAEJ,yBAAKA,UAAU,WAGPc,IAAQpE,QAAQ2E,KAAI,SAACY,EAAM7D,GAAP,OAChB,yBAAK4B,UAAU,OAAOxC,IAAKY,GACvB,kBAAC,IAAD,CAAS8D,GAAI,eAAiBD,EAAKE,KAC/B,yBAAKnC,UAAU,OACX,yBAAKM,IAAK2B,EAAKG,KAAKC,eAAgB9B,IAAI,KACxC,uBAAGP,UAAU,OAAOiC,EAAKK,SAAWL,EAAKK,SAAWL,EAAKM,QAE7D,yBAAKvC,UAAU,QAAQiC,EAAKO,MAC5B,yBAAKxC,UAAU,WAAWiC,EAAK/F,cAOvD,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQiE,KAAM,yBAAKG,IAAI,uEAAuEC,IAAI,KAAOpE,KAAK,QAA9G,yCAEJ,yBAAK6D,UAAU,OACX,yBAAKA,UAAU,WAEPc,IAAQ9D,KAAKqE,KAAI,SAACY,EAAM7D,GAAP,OACb,yBAAK4B,UAAU,OAAOxC,IAAKY,GACvB,kBAAC,IAAD,CAAS8D,GAAI,eAAiBD,EAAKE,KAC/B,yBAAKnC,UAAU,OACX,yBAAKM,IAAK2B,EAAKG,KAAKK,eAAgBlC,IAAI,KACxC,uBAAGP,UAAU,OAAOiC,EAAKS,WAE7B,yBAAK1C,UAAU,QAAQiC,EAAKO,aAOpD,kBAAC,IAAD,CAAWpC,MAAO,CAAEuC,QAAS,OAAQC,eAAgB,kBACjD,kBAAC,IAAD,CAAQzC,KAAM,yBAAKG,IAAI,uEAAuEC,IAAI,KAAOpE,KAAK,OAAO0G,QAAM,EAACzC,MAAO,CAAEC,MAAO,SAA5I,4BACA,kBAAC,IAAD,CAAQlE,KAAK,OAAOgE,KAAM,yBAAKG,IAAI,uEAAuEC,IAAI,KAAOsC,QAAM,EAACb,KAAK,QAAQ5B,MAAO,CAAEC,MAAO,SAAzJ,uBAEJ,yBAAKL,UAAU,OACX,yBAAKA,UAAU,SACX,0BAAMA,UAAU,QAAhB,sBACA,0BAAMA,UAAU,SAAhB,qCAEJ,yBAAKA,UAAU,WAEPc,IAAQhE,GAAGuE,KAAI,SAACY,EAAM7D,GAAP,OACN,GAALA,GAAU,yBAAK4B,UAAU,WAAWxC,IAAKY,GACrC,kBAAC,IAAD,CAAS8D,GAAI,eAAiBD,EAAKE,KAC/B,yBAAKnC,UAAU,OACX,yBAAKM,IAAK2B,EAAKG,KAAKC,eAAgB9B,IAAI,KACxC,uBAAGP,UAAU,OAAOiC,EAAKK,SAAWL,EAAKK,SAAWL,EAAKM,QAE7D,yBAAKvC,UAAU,QAAf,IAAwBiC,EAAKO,KAA7B,4BACA,yBAAKxC,UAAU,WAAWiC,EAAK/F,YAM3C4E,IAAQhE,GAAGuE,KAAI,SAACY,EAAM7D,GAAP,OACX,yBAAK4B,UAAU,OAAOxC,IAAKY,GACvB,kBAAC,IAAD,CAAS8D,GAAI,eAAiBD,EAAKE,KAC/B,yBAAKnC,UAAU,OACX,yBAAKM,IAAK2B,EAAKG,KAAKC,eAAgB9B,IAAI,KACxC,uBAAGP,UAAU,OAAOiC,EAAKK,SAAWL,EAAKK,SAAWL,EAAKM,QAE7D,yBAAKvC,UAAU,QAAQiC,EAAKO,MAC5B,yBAAKxC,UAAU,WAAWiC,EAAK/F,cAOvD,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQiE,KAAM,yBAAKG,IAAI,uEAAuEC,IAAI,KAAOpE,KAAK,QAA9G,mCAEJ,yBAAK6D,UAAU,OACX,yBAAKA,UAAU,SACX,0BAAMA,UAAU,QAAhB,gBACA,0BAAMA,UAAU,SAAhB,qCAEJ,yBAAKA,UAAU,WAEPc,IAAQ5D,KAAKmE,KAAI,SAACY,EAAM7D,GAAP,OACb,yBAAK4B,UAAU,OAAOxC,IAAKY,GACvB,kBAAC,IAAD,CAAS8D,GAAI,eAAiBD,EAAKE,KAC/B,yBAAKnC,UAAU,OACX,yBAAKM,IAAK2B,EAAKG,KAAKK,eAAgBlC,IAAI,KACxC,uBAAGP,UAAU,OAAOiC,EAAKS,WAE7B,yBAAK1C,UAAU,QAAQiC,EAAKO,aAOpD,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQrC,KAAM,yBAAKG,IAAI,uEAAuEC,IAAI,KAAOpE,KAAK,QAA9G,yCAEJ,yBAAK6D,UAAU,OACX,yBAAKA,UAAU,SACX,0BAAMA,UAAU,QAAhB,4BACA,0BAAMA,UAAU,SAAhB,iDAEJ,yBAAKA,UAAU,OAEPc,IAAQ1D,MAAMiE,KAAI,SAACY,EAAM7D,GAAP,OACd,yBAAKZ,IAAKY,GACN,yBAAKkC,IAAK2B,EAAKG,KAAKC,eAAgB9B,IAAI,KACxC,2BAAI0B,EAAKO,WAKzB,yBAAKxC,UAAU,WAEPc,IAAQxD,MAAM+D,KAAI,SAACY,EAAM7D,GAAP,OACd,yBAAK4B,UAAU,OAAOxC,IAAKY,GACvB,kBAAC,IAAD,CAAS8D,GAAI,eAAiBD,EAAKE,KAC/B,yBAAKnC,UAAU,OACX,yBAAKM,IAAK2B,EAAKG,KAAKC,eAAgB9B,IAAI,KACxC,uBAAGP,UAAU,OAAOiC,EAAKa,iBAE7B,yBAAK9C,UAAU,QAAQiC,EAAKO,MAC5B,yBAAKxC,UAAU,WAAWiC,EAAK/F,mB,GA/KjDwE,e,MCHhBqC,EALLtE,aACG,SAAAC,GAAK,MAAK,CACNsE,KAAMtE,EAAMC,MAAM,CAAC,OAAQ,SAASiC,U,8MAIxCqC,cAAgB,SAAAC,GAAG,OACd,yBAAKC,IAAI,MAAM/C,MAAO,CAAEuC,QAAS,OAAQS,WAAY,SAAUR,eAAgB,SAAUS,SAAU,WAAY5B,OAAQ,QAAS6B,gBAAiB,SAC9I,yBAAKlD,MAAO,CAAEC,MAAO,OAAQgD,SAAU,WAAYE,IAAK,EAAGC,KAAM,IAC7D,kBAAC,EAAD,S,wEAGF,IAGFR,EACAlH,KAAKgD,MADLkE,KAGJ,OACI,yBAAKG,IAAI,OACL,kBAAC,IAAD,CAAMpH,QAASD,KAAKgD,MAAM/C,UAC1B,kBAAC,IAAD,CAAMiH,KAAMA,EAAMS,aAAc,SAAA3E,GAAK,OAAI,kBAAC,IAAK4E,cAAN,iBAAwB5E,EAAxB,CAA+B6E,KAAM,OACzE7H,KAAKmH,kB,0CAMlBjF,QAAQC,IAAInC,KAAK8H,MACjB5F,QAAQC,IAAInC,KAAK8H,KAAKC,IAAIC,kB,GAxBfpD,e,EA2BJqC","file":"static/js/5.514490ab.chunk.js","sourcesContent":["import { observable, action, computed, autorun } from \"mobx\"\r\nimport { axios ,showToast} from \"&\"\r\n\r\nclass Content {\r\n\r\n    @observable tuiJian = [];\r\n    @observable tv = [];\r\n    @observable hot1 = [];\r\n    @observable hot2 = [];\r\n    @observable live1 = [];\r\n    @observable live2 = [];\r\n    @observable history=[];\r\n    @observable tabs = [\r\n        { title: \"电视剧\", type: \"TV_PLAY\" },\r\n        { title: \"电影\", type: \"MOVIE\" },\r\n        { title: \"综艺\", type: \"VARIETY_SHOW\" },\r\n        { title: \"少儿动漫\", type: \"MANGA\" }\r\n    ];\r\n\r\n\r\n    @action getTuiJian = async () => {\r\n        const res1 = await axios.get(\"/react/tv1\");\r\n        this.tuiJian = res1.data.result;\r\n        const res3 = await axios.get(\"/react/tv2\");\r\n        this.tv = res3.data.result;\r\n        const res2 = await axios.get(\"/react/hot1\");\r\n        this.hot1 = res2.data.result;\r\n        const res4 = await axios.get(\"/react/hot2\");\r\n        this.hot2 = res4.data.result;\r\n        const res5 = await axios.get(\"/react/live1\");\r\n        this.live1 = res5.data.result;\r\n        const res6 = await axios.get(\"/react/live2\");\r\n        this.live2 = res6.data.result;\r\n    }\r\n\r\n    @observable key = \"\";\r\n\r\n    @action setKey=(keyword)=>{\r\n        this.key=keyword;\r\n    }\r\n\r\n    @computed get flag(){\r\n        var flag=false;\r\n        if(this.history.length>0){\r\n            flag=true\r\n        }\r\n        return flag\r\n    }\r\n\r\n    @observable all=[];\r\n\r\n    //清空搜索历史\r\n    @action clearHistory= async ()=>{\r\n        const res=await axios.post(\"/react/clearHistory\");\r\n        this.history=[];\r\n    }\r\n\r\n    @observable initialPage=0;\r\n    @action getAll =async (query)=>{\r\n        const res=await axios.get(\"/react/all\",{params:{query}});\r\n        this.all=res.data.result;\r\n    }\r\n\r\n    @observable search=[];\r\n    @action clearSearch=()=>{\r\n        this.search=[]\r\n    }\r\n    @action getSearch=async ({key,flag})=>{\r\n        console.log(key)\r\n        if(flag){\r\n            axios.post(\"/react/searchHistory\",{flag}).then(res=>{\r\n                this.history=res.data.history;\r\n            })\r\n        }else{\r\n            if(key){\r\n                axios.post(\"/react/searchHistory\",{key,flag}).then(res=>{\r\n                    // console.log(res.data)\r\n                    if(this.history.indexOf(key)!==-1){\r\n                        let i=this.history.indexOf(key);\r\n                        this.history.splice(i,1)\r\n                    }\r\n                    this.history.unshift(key);\r\n                    this.key=\"\";\r\n                })\r\n                const res=await axios.get(\"/react/all\",{params:{key}});\r\n                this.search=res.data.result\r\n                console.log(res.data.result)\r\n            }else{\r\n                showToast(\"请输入关键字\")\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default new Content();","import \"./index.scss\";\r\nimport React, { Component } from \"react\"\r\nimport { NavBar, Icon } from \"antd-mobile\"\r\nimport { connect } from \"react-redux\"\r\nimport { changeFlag, getHead } from \"~/actions\"\r\nimport {axios,baseURL} from \"&\"\r\n\r\n\r\n@connect(\r\n    state => ({\r\n        flag: state.getIn([\"data\", \"flag\"]),\r\n        pic: state.getIn([\"data\", \"pic\"])\r\n    })\r\n)\r\nclass Head extends Component {\r\n\r\n    loopMine = () => {\r\n        this.props.history.push(\"/main/mine\")\r\n    }\r\n    loopLogin = () => {\r\n        this.props.history.push(\"/login\")\r\n    }\r\n    // componentDidMount(){\r\n    //     console.log(\"000000\")\r\n    //     // let userInfo = localStorage.userInfo;\r\n    //     // userInfo = JSON.parse(userInfo);\r\n    //     // console.log(userInfo.mobile)\r\n    //     // console.log(sessionStorage.tele)\r\n    //     this.props.dispatch(changeFlag(this.props.history));\r\n    //      let userInfo = localStorage.userInfo;\r\n    //     if (userInfo) {\r\n    //         userInfo = JSON.parse(userInfo);\r\n    //         if (userInfo.mobile == sessionStorage.tele) {\r\n    //             this.props.dispatch(getHead(userInfo.url));\r\n    //         } else {\r\n    //             this.props.dispatch(getHead());\r\n    //         }\r\n    //     } else {\r\n    //         this.props.dispatch(getHead());\r\n    //     }\r\n    // }\r\n    componentWillMount() {\r\n        this.props.dispatch(changeFlag(this.props.history));\r\n        let userInfo = localStorage.userInfo;\r\n        if (userInfo) {\r\n            userInfo = JSON.parse(userInfo);\r\n            if (userInfo.mobile === sessionStorage.tele) {\r\n                // console.log(userInfo.mobile)\r\n                this.props.dispatch(getHead(userInfo.url));\r\n            } else {\r\n                this.getInitPic();\r\n            }\r\n        } else {\r\n            this.getInitPic();\r\n        }\r\n    }\r\n    getInitPic = ()=>{\r\n            axios.post(\"/react/getlastPic\")\r\n                .then(res=>{\r\n                    if(!!res.data.type){\r\n                        this.props.dispatch(getHead(res.data.result.pic.replace(/public/,baseURL)))\r\n                    }else{\r\n                        this.props.dispatch(getHead(this.props.pic))\r\n                    }\r\n                })\r\n    }\r\n    render() {\r\n        const {\r\n            flag,\r\n            title,\r\n            text,\r\n            pic\r\n        } = this.props\r\n        console.log(flag)\r\n        return (\r\n            <div className=\"head\">\r\n                <NavBar\r\n                    mode=\"light\"\r\n                    onLeftClick={() => console.log('onLeftClick')}\r\n                    icon={<img style={{ width: '1.2rem' }} src={\"http://img.cmvideo.cn:8080/publish/pictures/comment/app-management-server/2020/1/1/1312208.png\"} alt=\"\" />}\r\n                    rightContent={[\r\n                        flag && <img className=\"right\" key={0} onClick={this.loopMine} style={{ width: '1.2rem' }} src={pic} alt=\"\" />,\r\n                        !flag && <img className=\"right\" key={1} onClick={this.loopLogin} style={{ width: '1.2rem' }} src={\"data:image/png;base64,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\"} alt=\"\" />\r\n                    ]}\r\n                >\r\n                    {!title && <p className=\"input\" onClick={() => this.props.history.push(\"/search\")}>\r\n                        <Icon type=\"search\" />\r\n                        <span>四季中国</span>\r\n                    </p>}\r\n                    {title && <span>{text}</span>}\r\n                </NavBar>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default Head;\r\n","import \"./index.scss\"\r\nimport React, { Component } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Carousel, WhiteSpace, Button, WingBlank } from \"antd-mobile\"\r\nimport { observer } from \"mobx-react\"\r\nimport content from \"~/mobx/content\"\r\nimport {\r\n    NavLink\r\n} from \"react-router-dom\"\r\n\r\n@connect(\r\n    state => ({\r\n        banner: state.getIn([\"data\", \"banner\"]).toJS(),\r\n    })\r\n)\r\n@observer\r\nclass Content extends Component {\r\n\r\n    componentWillMount() {\r\n        if (!content.tuiJian.length > 0) {\r\n            content.getTuiJian();\r\n        }\r\n    }\r\n    render() {\r\n        // console.log(content.tv[2])\r\n        const {\r\n            banner\r\n        } = this.props\r\n\r\n        return (\r\n            <div className=\"body\">\r\n                <Carousel className=\"space-carousel\"\r\n                    frameOverflow=\"visible\"\r\n                    cellSpacing={10}\r\n                    slideWidth={0.8}\r\n                    autoplay\r\n                    infinite\r\n                // beforeChange={(from, to) => console.log(`slide from ${from} to ${to}`)}\r\n                // afterChange={index => this.setState({ slideIndex: index })}\r\n                >\r\n                    {banner.map((val, index) => (\r\n                        <div key={index}>\r\n                            <img\r\n                                src={val}\r\n                                alt=\"\"\r\n                                style={{ width: '100%', verticalAlign: 'top', height: \"100%\" }}\r\n                                onLoad={() => {\r\n                                    // fire window resize event to change height\r\n                                    window.dispatchEvent(new Event('resize'));\r\n                                    this.setState({ imgHeight: 'auto' });\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                </Carousel>\r\n                <WhiteSpace size=\"lg\" />\r\n                <div className=\"sec\">\r\n                    <div className=\"title\">\r\n                        <span className=\"left\">重磅推荐</span>\r\n                        <span className=\"right\">揭秘UFO事件真相 ></span>\r\n                    </div>\r\n                    <div className=\"content\">\r\n\r\n                        {\r\n                            content.tuiJian.map((item, i) => (\r\n                                <div className=\"area\" key={i}>\r\n                                    <NavLink to={\"/detail?pid=\" + item.pID}>\r\n                                        <div className=\"img\">\r\n                                            <img src={item.pics.lowResolutionH} alt=\"\" />\r\n                                            <p className=\"tip\">{item.updateEP ? item.updateEP : item.score}</p>\r\n                                        </div>\r\n                                        <div className=\"name\">{item.name}</div>\r\n                                        <div className=\"jieshao\">{item.title}</div>\r\n                                    </NavLink>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <WingBlank>\r\n                    <Button icon={<img src=\"http://img.cmvideo.cn:8080/publish/noms/v1/icon_button_default_3.png\" alt=\"\" />} type=\"info\">更多精彩热播</Button>\r\n                </WingBlank>\r\n                <div className=\"sec\">\r\n                    <div className=\"content\">\r\n                        {\r\n                            content.hot1.map((item, i) => (\r\n                                <div className=\"area\" key={i}>\r\n                                    <NavLink to={\"/detail?pid=\" + item.pID}>\r\n                                        <div className=\"img\">\r\n                                            <img src={item.pics.lowResolutionV} alt=\"\" />\r\n                                            <p className=\"tip\">{item.duration}</p>\r\n                                        </div>\r\n                                        <div className=\"name\">{item.name}</div>\r\n                                    </NavLink>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <WingBlank style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                    <Button icon={<img src=\"http://img.cmvideo.cn:8080/publish/noms/v1/icon_button_default_3.png\" alt=\"\" />} type=\"info\" inline style={{ width: \"3rem\" }}>更多资讯</Button>\r\n                    <Button type=\"info\" icon={<img src=\"http://img.cmvideo.cn:8080/publish/noms/v1/icon_button_default_4.png\" alt=\"\" />} inline size=\"large\" style={{ width: \"3rem\" }}>换一换</Button>\r\n                </WingBlank>\r\n                <div className=\"sec\">\r\n                    <div className=\"title\">\r\n                        <span className=\"left\">电视剧</span>\r\n                        <span className=\"right\">全部电视剧 ></span>\r\n                    </div>\r\n                    <div className=\"content\">\r\n                        {\r\n                            content.tv.map((item, i) => (\r\n                                i == 4 && <div className=\"area big\" key={i}>\r\n                                    <NavLink to={\"/detail?pid=\" + item.pID}>\r\n                                        <div className=\"img\">\r\n                                            <img src={item.pics.lowResolutionH} alt=\"\" />\r\n                                            <p className=\"tip\">{item.updateEP ? item.updateEP : item.score}</p>\r\n                                        </div>\r\n                                        <div className=\"name\">[{item.name}] 更新中....</div>\r\n                                        <div className=\"jieshao\">{item.title}</div>\r\n                                    </NavLink>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                        {\r\n                            content.tv.map((item, i) => (\r\n                                <div className=\"area\" key={i}>\r\n                                    <NavLink to={\"/detail?pid=\" + item.pID}>\r\n                                        <div className=\"img\">\r\n                                            <img src={item.pics.lowResolutionH} alt=\"\" />\r\n                                            <p className=\"tip\">{item.updateEP ? item.updateEP : item.score}</p>\r\n                                        </div>\r\n                                        <div className=\"name\">{item.name}</div>\r\n                                        <div className=\"jieshao\">{item.title}</div>\r\n                                    </NavLink>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <WingBlank>\r\n                    <Button icon={<img src=\"http://img.cmvideo.cn:8080/publish/noms/v1/icon_button_default_3.png\" alt=\"\" />} type=\"info\">全部电视剧</Button>\r\n                </WingBlank>\r\n                <div className=\"sec\">\r\n                    <div className=\"title\">\r\n                        <span className=\"left\">热点</span>\r\n                        <span className=\"right\">大家都在看 ></span>\r\n                    </div>\r\n                    <div className=\"content\">\r\n                        {\r\n                            content.hot2.map((item, i) => (\r\n                                <div className=\"area\" key={i}>\r\n                                    <NavLink to={\"/detail?pid=\" + item.pID}>\r\n                                        <div className=\"img\">\r\n                                            <img src={item.pics.lowResolutionV} alt=\"\" />\r\n                                            <p className=\"tip\">{item.duration}</p>\r\n                                        </div>\r\n                                        <div className=\"name\">{item.name}</div>\r\n                                    </NavLink>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <WingBlank>\r\n                    <Button icon={<img src=\"http://img.cmvideo.cn:8080/publish/noms/v1/icon_button_default_3.png\" alt=\"\" />} type=\"info\">查看更多热点</Button>\r\n                </WingBlank>\r\n                <div className=\"sec\">\r\n                    <div className=\"title\">\r\n                        <span className=\"left\">热门直播</span>\r\n                        <span className=\"right\">查看全部电视台 ></span>\r\n                    </div>\r\n                    <div className=\"nav\">\r\n                        {\r\n                            content.live1.map((item, i) => (\r\n                                <div key={i}>\r\n                                    <img src={item.pics.lowResolutionH} alt=\"\" />\r\n                                    <p>{item.name}</p>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                    <div className=\"content\">\r\n                        {\r\n                            content.live2.map((item, i) => (\r\n                                <div className=\"area\" key={i}>\r\n                                    <NavLink to={\"/detail?pid=\" + item.pID}>\r\n                                        <div className=\"img\">\r\n                                            <img src={item.pics.lowResolutionH} alt=\"\" />\r\n                                            <p className=\"tip\">{item.updateTimeDesc}</p>\r\n                                        </div>\r\n                                        <div className=\"name\">{item.name}</div>\r\n                                        <div className=\"jieshao\">{item.title}</div>\r\n                                    </NavLink>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Content;","import \"./index.scss\";\r\nimport React, { Component } from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport Head from \"~/components/head\"\r\nimport { Tabs } from \"antd-mobile\"\r\nimport Content from \"~/components/content\"\r\n\r\n\r\n@connect(\r\n    state => ({\r\n        tabs: state.getIn([\"data\", \"tabs\"]).toJS()\r\n    })\r\n)\r\nclass Home extends Component {\r\n    renderContent = tab =>\r\n        (<div ref=\"two\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', position: \"relative\", height: \"40rem\", backgroundColor: '#fff'}}>\r\n            <div style={{ width: \"100%\", position: \"absolute\", top: 0, left: 0 }}>\r\n                <Content />\r\n            </div>\r\n        </div>);\r\n    render() {\r\n\r\n        const {\r\n            tabs\r\n        } = this.props\r\n        // console.log(tabs)\r\n        return (\r\n            <div ref=\"one\">\r\n                <Head history={this.props.history} />\r\n                <Tabs tabs={tabs} renderTabBar={props => <Tabs.DefaultTabBar {...props} page={3} />}>\r\n                    {this.renderContent}\r\n                </Tabs>\r\n            </div>\r\n        )\r\n    }\r\n    componentDidMount() {\r\n        console.log(this.refs)\r\n        console.log(this.refs.one.clientHeight)\r\n    }\r\n}\r\nexport default Home;"],"sourceRoot":""}