{"version":3,"sources":["scripts/components/head/index.js","scripts/view/sport/index.js"],"names":["Head","connect","state","flag","getIn","pic","loopMine","props","history","push","loopLogin","getInitPic","axios","post","then","res","data","type","dispatch","getHead","result","replace","baseURL","this","changeFlag","userInfo","localStorage","JSON","parse","mobile","sessionStorage","tele","url","title","text","console","log","className","mode","onLeftClick","icon","style","width","src","alt","rightContent","key","onClick","Component","Sport"],"mappings":"+MAcMA,EANLC,aACG,SAAAC,GAAK,MAAK,CACNC,KAAMD,EAAME,MAAM,CAAC,OAAQ,SAC3BC,IAAKH,EAAME,MAAM,CAAC,OAAQ,W,8MAK9BE,SAAW,WACP,EAAKC,MAAMC,QAAQC,KAAK,e,EAE5BC,UAAY,WACR,EAAKH,MAAMC,QAAQC,KAAK,W,EAoC5BE,WAAa,WACLC,IAAMC,KAAK,qBACNC,MAAK,SAAAC,GACGA,EAAIC,KAAKC,KACV,EAAKV,MAAMW,SAASC,YAAQJ,EAAIC,KAAKI,OAAOf,IAAIgB,QAAQ,SAASC,OAEjE,EAAKf,MAAMW,SAASC,YAAQ,EAAKZ,MAAMF,U,oFApBvDkB,KAAKhB,MAAMW,SAASM,YAAWD,KAAKhB,MAAMC,UAC1C,IAAIiB,EAAWC,aAAaD,SACxBA,IACAA,EAAWE,KAAKC,MAAMH,IACTI,SAAWC,eAAeC,KAEnCR,KAAKhB,MAAMW,SAASC,YAAQM,EAASO,MAKzCT,KAAKZ,e,+BAaH,IAAD,SAMDY,KAAKhB,MAJLJ,EAFC,EAEDA,KACA8B,EAHC,EAGDA,MACAC,EAJC,EAIDA,KACA7B,EALC,EAKDA,IAGJ,OADA8B,QAAQC,IAAIjC,GAER,yBAAKkC,UAAU,QACX,kBAAC,IAAD,CACIC,KAAK,QACLC,YAAa,kBAAMJ,QAAQC,IAAI,gBAC/BI,KAAM,yBAAKC,MAAO,CAAEC,MAAO,UAAYC,IAAK,iGAAkGC,IAAI,KAClJC,aAAc,CACV1C,GAAQ,yBAAKkC,UAAU,QAAQS,IAAK,EAAGC,QAASxB,KAAKjB,SAAUmC,MAAO,CAAEC,MAAO,UAAYC,IAAKtC,EAAKuC,IAAI,MACxGzC,GAAQ,yBAAKkC,UAAU,QAAQS,IAAK,EAAGC,QAASxB,KAAKb,UAAW+B,MAAO,CAAEC,MAAO,UAAYC,IAAK,yzEAA0zEC,IAAI,QAGl6EX,GAAS,uBAAGI,UAAU,QAAQU,QAAS,kBAAM,EAAKxC,MAAMC,QAAQC,KAAK,aACnE,kBAAC,IAAD,CAAMQ,KAAK,WACX,2DAEHgB,GAAS,8BAAOC,S,GA3ElBc,e,EAkFJhD,O,4KC1FTiD,EADLhD,a,oLAGO,OACI,6BACI,kBAAC,IAAD,CAAMO,QAASe,KAAKhB,MAAMC,UAC1B,+E,GALIwC,e,EAULC","file":"static/js/8.22ba53d3.chunk.js","sourcesContent":["import \"./index.scss\";\r\nimport React, { Component } from \"react\"\r\nimport { NavBar, Icon } from \"antd-mobile\"\r\nimport { connect } from \"react-redux\"\r\nimport { changeFlag, getHead } from \"~/actions\"\r\nimport {axios,baseURL} from \"&\"\r\n\r\n\r\n@connect(\r\n    state => ({\r\n        flag: state.getIn([\"data\", \"flag\"]),\r\n        pic: state.getIn([\"data\", \"pic\"])\r\n    })\r\n)\r\nclass Head extends Component {\r\n\r\n    loopMine = () => {\r\n        this.props.history.push(\"/main/mine\")\r\n    }\r\n    loopLogin = () => {\r\n        this.props.history.push(\"/login\")\r\n    }\r\n    // componentDidMount(){\r\n    //     console.log(\"000000\")\r\n    //     // let userInfo = localStorage.userInfo;\r\n    //     // userInfo = JSON.parse(userInfo);\r\n    //     // console.log(userInfo.mobile)\r\n    //     // console.log(sessionStorage.tele)\r\n    //     this.props.dispatch(changeFlag(this.props.history));\r\n    //      let userInfo = localStorage.userInfo;\r\n    //     if (userInfo) {\r\n    //         userInfo = JSON.parse(userInfo);\r\n    //         if (userInfo.mobile == sessionStorage.tele) {\r\n    //             this.props.dispatch(getHead(userInfo.url));\r\n    //         } else {\r\n    //             this.props.dispatch(getHead());\r\n    //         }\r\n    //     } else {\r\n    //         this.props.dispatch(getHead());\r\n    //     }\r\n    // }\r\n    componentWillMount() {\r\n        this.props.dispatch(changeFlag(this.props.history));\r\n        let userInfo = localStorage.userInfo;\r\n        if (userInfo) {\r\n            userInfo = JSON.parse(userInfo);\r\n            if (userInfo.mobile === sessionStorage.tele) {\r\n                // console.log(userInfo.mobile)\r\n                this.props.dispatch(getHead(userInfo.url));\r\n            } else {\r\n                this.getInitPic();\r\n            }\r\n        } else {\r\n            this.getInitPic();\r\n        }\r\n    }\r\n    getInitPic = ()=>{\r\n            axios.post(\"/react/getlastPic\")\r\n                .then(res=>{\r\n                    if(!!res.data.type){\r\n                        this.props.dispatch(getHead(res.data.result.pic.replace(/public/,baseURL)))\r\n                    }else{\r\n                        this.props.dispatch(getHead(this.props.pic))\r\n                    }\r\n                })\r\n    }\r\n    render() {\r\n        const {\r\n            flag,\r\n            title,\r\n            text,\r\n            pic\r\n        } = this.props\r\n        console.log(flag)\r\n        return (\r\n            <div className=\"head\">\r\n                <NavBar\r\n                    mode=\"light\"\r\n                    onLeftClick={() => console.log('onLeftClick')}\r\n                    icon={<img style={{ width: '1.2rem' }} src={\"http://img.cmvideo.cn:8080/publish/pictures/comment/app-management-server/2020/1/1/1312208.png\"} alt=\"\" />}\r\n                    rightContent={[\r\n                        flag && <img className=\"right\" key={0} onClick={this.loopMine} style={{ width: '1.2rem' }} src={pic} alt=\"\" />,\r\n                        !flag && <img className=\"right\" key={1} onClick={this.loopLogin} style={{ width: '1.2rem' }} src={\"data:image/png;base64,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\"} alt=\"\" />\r\n                    ]}\r\n                >\r\n                    {!title && <p className=\"input\" onClick={() => this.props.history.push(\"/search\")}>\r\n                        <Icon type=\"search\" />\r\n                        <span>四季中国</span>\r\n                    </p>}\r\n                    {title && <span>{text}</span>}\r\n                </NavBar>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default Head;\r\n","import \"./index.scss\";\r\nimport React,{Component} from \"react\"\r\nimport {connect} from \"react-redux\";\r\nimport Head from \"~/components/head\"\r\n\r\n@connect()\r\nclass Sport extends Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                <Head history={this.props.history}/>\r\n                <h2>这是体育的测试</h2>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Sport;"],"sourceRoot":""}